<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime Power Forge</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Orbitron', sans-serif;
            background: linear-gradient(135deg, #1e1e2f, #2a4066);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            animation: backgroundMove 10s infinite alternate;
        }

        @keyframes backgroundMove {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        .container {
            text-align: center;
            color: #fff;
            padding: 20px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
            max-width: 600px;
            width: 100%;
            perspective: 1000px;
        }

        .title {
            font-size: 2.5em;
            color: #00ffff;
            text-shadow: 0 0 10px #00ffff, 0 0 20px #ff00ff;
            animation: glow 2s infinite alternate;
        }

        .step {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .step.active {
            display: block;
            opacity: 1;
        }

        h2 {
            color: #ff00ff;
            text-shadow: 0 0 10px #ff00ff;
        }

        input {
            padding: 10px;
            font-size: 1.2em;
            border: 2px solid #00ffff;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            outline: none;
        }

        button {
            padding: 10px 20px;
            font-size: 1.2em;
            margin-top: 20px;
            background: linear-gradient(45deg, #00ffff, #ff00ff);
            border: none;
            border-radius: 25px;
            color: #fff;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
        }

        button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 15px #00ffff;
        }

        button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300%;
            height: 300%;
            background: rgba(0, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(0);
            transition: transform 0.5s;
        }

        button:hover::before {
            transform: translate(-50%, -50%) scale(1);
        }

        .result-box {
            font-size: 1.5em;
            padding: 15px;
            margin: 20px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid #00ffff;
            border-radius: 10px;
            color: #fff;
            text-shadow: 0 0 5px #00ffff;
            transform: perspective(500px) rotateX(10deg);
            animation: fadeIn 1s ease;
        }

        .shapes-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .shape {
            width: 50px;
            height: 50px;
            background: #ff00ff;
            border-radius: 10px;
            animation: spin 2s infinite linear;
            box-shadow: 0 0 10px #ff00ff;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 0.9em;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .shape:hover {
            transform: scale(1.2);
        }

        .card {
            width: 300px;
            padding: 20px;
            margin: 20px auto;
            background: linear-gradient(135deg, #00ffff, #ff00ff);
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            color: #1e1e2f;
            font-size: 1.2em;
            transform: perspective(1000px) rotateY(10deg);
            animation: cardReveal 1.5s ease;
            transition: transform 0.5s;
        }

        .card:hover {
            transform: perspective(1000px) rotateY(20deg);
        }

        .card h3 {
            margin: 10px 0;
            color: #fff;
            text-shadow: 0 0 5px #000;
        }

        .card p {
            margin: 5px 0;
            font-weight: bold;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            overflow: hidden;
            margin-top: 20px;
        }

        .progress-bar div {
            height: 100%;
            background: #00ffff;
            width: 0;
            transition: width 0.5s;
        }
        .description-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            padding: 10px 20px;
            background: linear-gradient(45deg, #00ffff, #ff00ff);
            border: none;
            border-radius: 25px;
            color: #fff;
            cursor: pointer;
            font-size: 1em;
            transition: transform 0.3s, box-shadow 0.3s;
            z-index: 1000;
            text-decoration: none;
            display: inline-block;
        }

        .description-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 15px #00ffff;
        }

        @keyframes glow {
            0% { text-shadow: 0 0 10px #00ffff; }
            100% { text-shadow: 0 0 20px #ff00ff; }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes cardReveal {
            0% { opacity: 0; transform: perspective(1000px) rotateY(-90deg); }
            100% { opacity: 1; transform: perspective(1000px) rotateY(10deg); }
        }
    </style>
</head>
<body>
    <a href="description.html" class="description-btn">Description</a>
    <div class="container">
        <h1 class="title">Life Power Forge</h1>

        <div class="progress-bar">
            <div id="progress"></div>
        </div>

        <!-- Step 1: Name Input -->
        <div id="step1" class="step active">
            <h2>Enter Your Name</h2>
            <input type="text" id="playerName" placeholder="Your Name">
            <button onclick="startGame()">Forge Your Power</button>
        </div>

        <!-- Step 2: Rank Reveal -->
        <div id="step2" class="step">
            <h2>Your Rank</h2>
            <div id="rankResult" class="result-box"></div>
            <button onclick="showLuckyNumber()">Reveal Lucky Number</button>
        </div>

        <!-- Step 3: Lucky Number & Shapes -->
        <div id="step3" class="step">
            <h2>Your Lucky Number</h2>
            <div id="luckyNumber" class="result-box"></div>
            <div id="shapesResult" class="shapes-container"></div>
            <button onclick="showPower()">Unleash Power</button>
        </div>

        <!-- Step 4: Base Power -->
        <div id="step4" class="step">
            <h2>Your Base Power</h2>
            <div id="powerResult" class="result-box"></div>
            <button onclick="showBonus()">Draw Bonus Power</button>
        </div>

        <!-- Step 5: Bonus Power -->
        <div id="step5" class="step">
            <h2>Bonus Power</h2>
            <div id="bonusResult" class="result-box"></div>
            <button onclick="showFinalCard()">View Your Power Card</button>
        </div>

        <!-- Step 6: Final Result Card -->
        <div id="step6" class="step">
            <h2>Your Power Card</h2>
            <div id="finalCard" class="card"></div>
            <button onclick="resetGame()">Forge Again</button>
        </div>
    </div>

    <script>
        const shapes = [
            "Circle", "Triangle", "Square", "Star", "Spiral", "Hexagon", "Pentagon", "Crescent",
            "Diamond", "Octagon", "Cross", "Wave", "Arrow", "Cloud", "Flame", "Drop",
            "Lightning", "Skull", "Heart", "Infinity"
        ];

        const basePowers = [
            "Stellar Energy Blaster", "Temporal Sniper", "Elemental Fortress", "Thunder Sprinter",
            "Crystal Necromancer", "Sonic Inferno", "Empathic Healer", "Storm Archer",
            "Infinite Tide Ruler", "Illusive Titan", "Nova Burst", "Chrono Shifter",
            "Dark Thunder Pyre", "Eternal Velocity Surge", "Crystal Sanctuary", "Tempest Marksman",
            "Aqua Empath", "Electric Precision Strike", "Infernal Time Reaper", "Boundless Shadow Colossus"
        ];

        const bonusPowers = [
            "Dragon Sovereign", "Void Whisperer", "Celestial Overlord", "Phantom Monarch",
            "Eternal Samurai", "Chaos Weaver", "Titanâ€™s Roar", "Astral Sage", "Blood Reaper",
            "Divine Guardian", "Goblin Tickler", "Rubber Duck Summoner", "Sneezy Storm",
            "Puddle Jumper", "Nap Master", "Clumsy Knight", "Toast Mage", "Squeaky Voice",
            "Paper Cut Lord", "Shiny Rock Collector"
        ];

        let currentStep = 1;
        let playerData = {};

        function startGame() {
            const name = document.getElementById("playerName").value.trim();
            if (!name) return alert("Please enter your name!");

            // Calculate Rank
            let sum = 0;
            for (let char of name.toUpperCase()) {
                if (char >= 'A' && char <= 'Z') sum += char.charCodeAt(0) - 64;
            }
            const avg = sum / name.length;
            const rank = avg <= 4 ? "G" : avg <= 8 ? "F" : avg <= 12 ? "E" : avg <= 16 ? "D" : avg <= 20 ? "C" : avg <= 24 ? "B" : "A";

            playerData = { name, rank };
            document.getElementById("rankResult").innerText = `${name}, Your Rank: ${rank}`;
            switchStep(2);
        }

        function showLuckyNumber() {
            const luckyNumber = Math.floor(Math.random() * 999) + 1;
            playerData.luckyNumber = luckyNumber;

            let shapeCount = luckyNumber < 10 ? 1 : luckyNumber < 100 ? 2 : 3;
            let selectedShapes = [];
            for (let i = 0; i < shapeCount; i++) {
                selectedShapes.push(shapes[Math.floor(Math.random() * shapes.length)]);
            }
            playerData.shapes = selectedShapes;

            document.getElementById("luckyNumber").innerText = `Lucky Number: ${luckyNumber}`;
            const shapesContainer = document.getElementById("shapesResult");
            shapesContainer.innerHTML = selectedShapes.map(shape => `<div class="shape">${shape}</div>`).join("");
            switchStep(3);
        }

        function showPower() {
            playerData.power = basePowers[Math.floor(Math.random() * basePowers.length)];
            document.getElementById("powerResult").innerText = `Power: ${playerData.power}`;
            switchStep(4);
        }

        function showBonus() {
            playerData.bonus = bonusPowers[Math.floor(Math.random() * bonusPowers.length)];
            document.getElementById("bonusResult").innerText = `Bonus Power: ${playerData.bonus}`;
            switchStep(5);
        }

        function showFinalCard() {
            const card = document.getElementById("finalCard");
            card.innerHTML = `
                <h3>${playerData.name}'s Power Card</h3>
                <p>Rank: ${playerData.rank}</p>
                <p>Lucky Number: ${playerData.luckyNumber}</p>
                <p>Shapes: ${playerData.shapes.join(", ")}</p>
                <p>Base Power: ${playerData.power}</p>
                <p>Bonus Power: ${playerData.bonus}</p>
            `;
            switchStep(6);
        }

        function resetGame() {
            playerData = {};
            switchStep(1);
            document.getElementById("playerName").value = "";
        }

        function switchStep(step) {
            document.querySelectorAll(".step").forEach(s => s.classList.remove("active"));
            document.getElementById(`step${step}`).classList.add("active");
            currentStep = step;
            updateProgressBar();
        }

        function updateProgressBar() {
            const progress = document.getElementById("progress");
            progress.style.width = `${(currentStep / 6) * 100}%`;
        }

        // Add sound effects and background music
        const clickSound = new Audio('path/to/click.mp3');
        const backgroundMusic = new Audio('path/to/background.mp3');
        backgroundMusic.loop = true;
        backgroundMusic.volume = 0.5;

        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', () => {
                clickSound.play();
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            backgroundMusic.play();
        });

        // Add mute functionality
        document.addEventListener('keydown', (event) => {
            if (event.key === 'm') {
                backgroundMusic.muted = !backgroundMusic.muted;
            }
        });
    </script>
</body>
</html>
